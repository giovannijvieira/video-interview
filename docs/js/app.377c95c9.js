(function(){"use strict";var e={7132:function(e,o,n){var t=n(9242),r=n(3396);const i={id:"app"};function a(e,o,n,t,a,l){const u=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r.Wm)(u)])}var l={name:"App"},u=n(89);const c=(0,u.Z)(l,[["render",a]]);var s=c,d=n(2483),v=n(7139);const p={class:"video-recorder-container"},f={class:"video-container"},m={ref:"videoElement",width:"640",height:"480",autoplay:""},w={class:"question-container"},g={class:"question"},h={class:"controls-container"},b={class:"interview-completed"},y=(0,r._)("p",null,"Obrigado por participar! Entraremos em contato em breve.",-1);function _(e,o,n,i,a,l){return(0,r.wg)(),(0,r.iD)("div",p,[(0,r.wy)((0,r._)("div",f,[(0,r._)("video",m,null,512),(0,r._)("div",{class:(0,v.C_)(["red-light",{blinking:i.recording}])},null,2)],512),[[t.F8,!i.interviewCompleted]]),(0,r.wy)((0,r._)("div",w,[(0,r._)("p",g,(0,v.zw)(i.question),1)],512),[[t.F8,!i.interviewCompleted]]),(0,r._)("div",h,[(0,r.wy)((0,r._)("button",{onClick:o[0]||(o[0]=(...e)=>i.toggleRecording&&i.toggleRecording(...e))},(0,v.zw)(i.recording?"Parar":"Gravar"),513),[[t.F8,!i.interviewCompleted]]),(0,r.wy)((0,r._)("p",null,(0,v.zw)(i.remainingTime)+" segundos restantes",513),[[t.F8,!i.interviewCompleted]]),(0,r.wy)((0,r._)("button",{onClick:o[1]||(o[1]=(...e)=>i.nextQuestion&&i.nextQuestion(...e))},"Próxima Pergunta",512),[[t.F8,!i.recording&&!i.interviewCompleted&&i.hasNextQuestion]]),(0,r.wy)((0,r._)("div",b,[y,(0,r._)("button",{onClick:o[2]||(o[2]=(...e)=>i.downloadRecordedVideo&&i.downloadRecordedVideo(...e))},"Baixar Vídeo")],512),[[t.F8,i.interviewCompleted]])])])}n(7658),n(2062);var O=n(4870),C={setup(){const e=(0,O.iH)(["O que você sabe sobre nós como uma empresa?","Quais são seus pontos fortes?"]),o=(0,O.iH)(0),n=(0,O.iH)(!1),t=(0,O.iH)(60);let i=null,a=null,l=null;const u=(0,O.iH)(null),c=(0,O.iH)(!1),s=async()=>{if(n.value)l&&"inactive"!==l.state&&l.stop(),n.value=!1,i&&clearInterval(i),o.value===e.value.length-1?c.value=!0:o.value++;else try{const r=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});u.value&&(u.value.srcObject=r,u.value.play());const c=[];l=new MediaRecorder(r),l.ondataavailable=e=>{c.push(e.data)},l.onstop=()=>{a=new Blob(c,{type:"video/webm"}),a&&(o.value===e.value.length-1&&d(a),v(a)),u.value&&a&&(u.value.src=URL.createObjectURL(a),u.value.play())},l.start(),n.value=!0,i=setInterval((()=>{t.value--,0===t.value&&s()}),1e3)}catch(r){console.error("Erro ao acessar a câmera:",r)}},d=e=>{const o=URL.createObjectURL(e),n=document.createElement("a");document.body.appendChild(n),n.href=o,n.download="interview_video.webm",n.click(),URL.revokeObjectURL(o),document.body.removeChild(n)},v=e=>{const o=new FormData;o.append("video",e,"interview_video.webm"),fetch("http://localhost/upload.php",{method:"POST",body:o}).then((e=>{e.ok?console.log("Vídeo enviado com sucesso!"):console.error("Falha ao enviar o vídeo.")})).catch((e=>{console.error("Ocorreu um erro durante o envio do vídeo:",e)}))};(0,r.YP)(n,(e=>{e||(t.value=60)})),(0,r.Ah)((()=>{l&&"inactive"!==l.state&&l.stop(),i&&clearInterval(i)}));const p=(0,r.Fl)((()=>e.value[o.value])),f=(0,r.Fl)((()=>o.value<e.value.length-1)),m=()=>{n.value||(o.value===e.value.length-1?c.value=!0:o.value++)},w=()=>{a&&d(a)};return{question:p,recording:n,remainingTime:t,toggleRecording:s,videoElement:u,interviewCompleted:c,hasNextQuestion:f,nextQuestion:m,downloadRecordedVideo:w}}};const R=(0,u.Z)(C,[["render",_]]);var k=R;const x=[{path:"/",name:"VideoRecorder",component:k}],F=(0,d.p7)({history:(0,d.PO)("/video-interview/"),routes:x});var j=F,P=n(65),U=(0,P.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,t.ri)(s).use(U).use(j).mount("#app")}},o={};function n(t){var r=o[t];if(void 0!==r)return r.exports;var i=o[t]={exports:{}};return e[t].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(o,t,r,i){if(!t){var a=1/0;for(s=0;s<e.length;s++){t=e[s][0],r=e[s][1],i=e[s][2];for(var l=!0,u=0;u<t.length;u++)(!1&i||a>=i)&&Object.keys(n.O).every((function(e){return n.O[e](t[u])}))?t.splice(u--,1):(l=!1,i<a&&(a=i));if(l){e.splice(s--,1);var c=r();void 0!==c&&(o=c)}}return o}i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[t,r,i]}}(),function(){n.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(o,{a:o}),o}}(),function(){n.d=function(e,o){for(var t in o)n.o(o,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){var e={143:0};n.O.j=function(o){return 0===e[o]};var o=function(o,t){var r,i,a=t[0],l=t[1],u=t[2],c=0;if(a.some((function(o){return 0!==e[o]}))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(u)var s=u(n)}for(o&&o(t);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(s)},t=self["webpackChunkvideo_recording_app"]=self["webpackChunkvideo_recording_app"]||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))}();var t=n.O(void 0,[998],(function(){return n(7132)}));t=n.O(t)})();
//# sourceMappingURL=app.377c95c9.js.map